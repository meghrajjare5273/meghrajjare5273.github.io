// Navbar.tsx
"use client";

import React, { useEffect, useRef, useState } from "react";
import { MenuToggleIcon } from "@/components/ui/menu-toggle";
import { initTheme } from "@/lib/theme";
import { Skiper58 } from "@/components/ui/menu";
import { VerticalThemeWipeToggle } from "@/components/ui/theme-toggle";
import gsap from "gsap";
import { useGSAP } from "@gsap/react";

// Register GSAP plugin
gsap.registerPlugin(useGSAP);

export default function Navbar() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);

  // Refs for GSAP
  const menuContainerRef = useRef<HTMLDivElement>(null);
  const timeline = useRef<gsap.core.Timeline | null>(null);

  // Initialize theme on mount
  useEffect(() => {
    initTheme();
  }, []);

  // GSAP Animation Logic
  useGSAP(
    () => {
      // 1. Set initial state: hidden and visibility:hidden (autoAlpha handles both)
      gsap.set(menuContainerRef.current, {
        autoAlpha: 0,
      });

      // 2. Create the timeline (paused by default)
      const tl = gsap.timeline({ paused: true });

      tl.to(menuContainerRef.current, {
        autoAlpha: 1,
        duration: 0.3,
        ease: "power2.inOut",
      }).fromTo(
        ".menu-content",
        { y: 20, opacity: 0 },
        { y: 0, opacity: 1, duration: 0.4, ease: "power3.out" },
        "-=0.1" // Stagger the start slightly
      );

      timeline.current = tl;
    },
    { scope: menuContainerRef }
  ); // Scope allows us to use selector strings like ".menu-content"

  // Control Timeline based on state
  useEffect(() => {
    if (timeline.current) {
      if (isMenuOpen) {
        timeline.current.play();
      } else {
        timeline.current.reverse();
      }
    }
  }, [isMenuOpen]);

  // Scroll lock implementation
  useEffect(() => {
    if (isMenuOpen) {
      const originalOverflow = document.documentElement.style.overflow;
      const originalBodyOverflow = document.body.style.overflow;

      document.documentElement.style.overflow = "hidden";
      document.body.style.overflow = "hidden";

      return () => {
        document.documentElement.style.overflow = originalOverflow;
        document.body.style.overflow = originalBodyOverflow;
      };
    }
  }, [isMenuOpen]);

  // Keyboard accessibility: close on Escape
  useEffect(() => {
    const handleEscape = (e: KeyboardEvent) => {
      if (e.key === "Escape" && isMenuOpen) {
        setIsMenuOpen(false);
      }
    };

    if (isMenuOpen) {
      document.addEventListener("keydown", handleEscape);
      return () => document.removeEventListener("keydown", handleEscape);
    }
  }, [isMenuOpen]);

  return (
    <>
      <header className="fixed top-0 left-0 right-0 z-50 px-6 py-6 md:px-12 lg:px-24 w-full">
        <nav className="relative flex items-center justify-between max-w-screen-2xl mx-auto min-h-12">
          {/* 1. Left: Logo Section */}
          <div className="flex-1 flex justify-start z-10">
            <a href="#" aria-label="Home" className="hidden md:block">
              <div className="text-2xl font-bold tracking-tighter text-foreground">
                <svg
                  width="33.93"
                  height="45"
                  viewBox="0 0 172.25571 228.51735"
                  fill="none"
                  version="1.1"
                  id="svg3"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <defs id="defs3" />
                  <mask id="path-1-inside-1_13_2" fill="#ffffff">
                    <path
                      d="m 18.3125,147.188 c 1.75,-7.834 3.375,-15.626 4.875,-23.376 1.5417,-7.75 3.1042,-15.562 4.6875,-23.437 C 31.1667,83.9167 34.4583,67.5417 37.75,51.25 41.0417,34.9167 44.3542,18.5208 47.6875,2.0625 47.8542,1.3125 48.2292,0.791667 48.8125,0.5 49.3958,0.166667 50,0.0416667 50.625,0.125 c 0.625,0.083333 1.1875,0.354167 1.6875,0.8125 0.5,0.45833 0.75,1.0625 0.75,1.8125 -0.1667,9.375 -0.2917,18.75 -0.375,28.125 -0.0833,9.3333 -0.0417,18.6875 0.125,28.0625 0.1667,9.3333 0.5,18.6667 1,28 0.5417,9.2917 1.375,18.5835 2.5,27.8745 C 61.4792,97.8125 66.75,80.8542 72.125,63.9375 77.5,46.9792 83,30.0625 88.625,13.1875 c 0.25,-0.7083 0.6667,-1.2083 1.25,-1.5 0.625,-0.3333 1.25,-0.4583 1.875,-0.375 0.625,0.0417 1.1667,0.2917 1.625,0.75 0.4583,0.4167 0.6667,1.0417 0.625,1.875 -0.4583,8.4167 -1.125,16.8333 -2,25.25 -0.8333,8.4167 -1.7292,16.8333 -2.6875,25.25 -0.9167,8.375 -1.8125,16.7708 -2.6875,25.1875 -0.8333,8.4167 -1.4375,16.854 -1.8125,25.313 -0.375,8.75 -0.4167,17.458 -0.125,26.124 0.2917,8.667 1.1667,17.334 2.625,26 0.6667,3.834 1.4375,7.646 2.3125,11.438 0.875,3.792 1.9375,7.521 3.1875,11.188 0.7083,2.124 1.5,4.25 2.375,6.374 0.9167,2.126 2.1458,4.042 3.6875,5.75 0.5833,0.667 1.417,1.292 2.5,1.876 1.083,0.583 2.271,1.062 3.563,1.437 1.291,0.375 2.583,0.583 3.874,0.625 1.292,0.042 2.438,-0.167 3.438,-0.625 1,-0.458 1.75,-1.208 2.25,-2.25 0.5,-1.042 0.604,-2.458 0.312,-4.25 -0.124,-0.875 0.042,-1.604 0.5,-2.187 0.5,-0.584 1.084,-0.959 1.75,-1.126 0.667,-0.208 1.313,-0.166 1.938,0.126 0.625,0.291 1,0.874 1.125,1.75 0.375,2.124 0.271,4.041 -0.313,5.75 -0.583,1.708 -1.479,3.166 -2.687,4.374 -1.208,1.209 -2.646,2.146 -4.313,2.813 -1.624,0.667 -3.354,1.021 -5.187,1.063 -1.792,0.083 -3.604,-0.146 -5.437,-0.688 -1.792,-0.542 -3.4172,-1.417 -4.8755,-2.625 -2.125,-1.75 -3.9792,-3.854 -5.5625,-6.313 -1.5833,-2.416 -2.9583,-5.041 -4.125,-7.874 -1.125,-2.876 -2.0833,-5.876 -2.875,-9 -0.75,-3.126 -1.3958,-6.23 -1.9375,-9.313 -0.5417,-3.125 -1,-6.167 -1.375,-9.125 C 81.1042,163.292 80.7917,160.542 80.5,158 79.3333,147.833 78.8125,137.688 78.9375,127.562 79.0625,117.396 79.5417,107.25 80.375,97.125 81.25,86.9583 82.2917,76.8125 83.5,66.6875 84.7083,56.5208 85.8125,46.375 86.8125,36.25 81.7708,51.5417 76.8333,66.875 72,82.25 c -4.7917,15.3333 -9.5,30.729 -14.125,46.188 -0.1667,0.583 -0.5208,1.041 -1.0625,1.374 -0.5,0.334 -1.0625,0.521 -1.6875,0.563 C 54.5417,130.417 54,130.292 53.5,130 c -0.4583,-0.333 -0.75,-0.854 -0.875,-1.562 -1.1667,-8 -2.125,-16 -2.875,-24 C 49,96.3958 48.4167,88.3542 48,80.3125 47.625,72.2708 47.375,64.2292 47.25,56.1875 47.1667,48.1458 47.1458,40.1042 47.1875,32.0625 44.1042,47.3542 41.0417,62.5625 38,77.6875 34.9583,92.7708 31.8958,107.958 28.8125,123.25 c -1.9167,9.667 -3.9167,19.25 -6,28.75 -2.0417,9.458 -4.5,18.896 -7.375,28.312 -0.2083,0.667 -0.5208,1.771 -0.9375,3.313 -0.375,1.5 -0.875,3.146 -1.5,4.937 -0.5833,1.792 -1.2917,3.563 -2.125,5.313 -0.7917,1.75 -1.6875,3.187 -2.6875,4.313 -1,1.124 -2.10417,1.791 -3.3125,2 -1.20833,0.166 -2.52083,-0.417 -3.9375,-1.75 -0.625,-0.584 -0.8958333,-1.23 -0.8125,-1.938 0.083333,-0.708 0.354167,-1.292 0.8125,-1.75 0.5,-0.5 1.10417,-0.792 1.8125,-0.875 0.75,-0.125 1.4375,0.104 2.0625,0.687 -0.16667,-0.166 -0.10417,-0.791 0.1875,-1.874 0.29167,-1.084 0.6875,-2.417 1.1875,-4 0.54167,-1.584 1.14583,-3.313 1.8125,-5.188 0.66667,-1.917 1.3125,-3.729 1.9375,-5.438 0.625,-1.75 1.1875,-3.291 1.6875,-4.624 0.5,-1.334 0.8125,-2.271 0.9375,-2.813 1.0833,-3.917 2.0833,-7.813 3,-11.687 0.9583,-3.876 1.875,-7.792 2.75,-11.75 z M 158.895,81 c 0.75,-0.4583 1.458,-0.5417 2.125,-0.25 0.667,0.25 1.167,0.6667 1.5,1.25 0.333,0.5833 0.458,1.25 0.375,2 -0.083,0.7083 -0.5,1.2917 -1.25,1.75 -4.708,2.8333 -9.312,5.9375 -13.812,9.3125 0.208,4.4167 0.25,8.8125 0.125,13.1875 -0.084,4.375 -0.334,8.75 -0.75,13.125 -0.834,9.167 -2.271,18.187 -4.313,27.063 -2,8.874 -4.625,17.604 -7.875,26.187 -1.417,3.708 -2.958,7.583 -4.625,11.625 -1.625,4 -3.479,7.896 -5.562,11.688 -2.084,3.791 -4.459,7.333 -7.125,10.624 -2.667,3.334 -5.709,6.146 -9.125,8.438 -2.667,1.833 -5.25,2.917 -7.75,3.25 -2.5005,0.333 -4.813,0.042 -6.938,-0.875 -2.0833,-0.917 -3.9375,-2.417 -5.5625,-4.5 -1.625,-2.042 -2.875,-4.563 -3.75,-7.563 -1.25,-4.124 -1.8958,-8.354 -1.9375,-12.687 0,-4.375 0.3958,-8.708 1.1875,-13 0.8333,-4.333 1.9583,-8.583 3.375,-12.75 1.4167,-4.208 2.9375,-8.208 4.5625,-12 5.5833,-12.792 12.646,-24.604 21.188,-35.437 8.541,-10.834 18.291,-20.5 29.25,-29.0005 -0.292,-5.9583 -0.917,-11.9167 -1.875,-17.875 -0.292,-1.9583 -0.73,-4.2292 -1.313,-6.8125 -0.583,-2.625 -1.292,-5.3333 -2.125,-8.125 -0.833,-2.7917 -1.812,-5.5625 -2.937,-8.3125 -1.125,-2.75 -2.396,-5.25 -3.813,-7.5 -1.375,-2.25 -2.917,-4.125 -4.625,-5.625 -1.708,-1.5417 -3.562,-2.4792 -5.562,-2.8125 -1.959,-0.3333 -4.084,0.0625 -6.375,1.1875 -2.292,1.0833 -4.75,3.1042 -7.375,6.0625 -3.167,3.5833 -5.917,7.5208 -8.2505,11.8125 -2.2917,4.25 -4.1458,8.6458 -5.5625,13.1875 -0.25,0.7917 -0.6042,2 -1.0625,3.625 -0.4583,1.625 -0.9167,3.4583 -1.375,5.5 -0.4167,2 -0.75,4.0625 -1,6.1875 -0.25,2.125 -0.2917,4.1042 -0.125,5.9375 0.1667,1.7917 0.6042,3.3125 1.3125,4.5625 0.7083,1.25 1.8333,1.9792 3.375,2.1875 0.875,0.125 1.4583,0.5 1.75,1.125 0.2917,0.5833 0.3333,1.2083 0.125,1.875 -0.1667,0.6667 -0.5417,1.25 -1.125,1.75 -0.5833,0.5 -1.3125,0.687 -2.1875,0.563 -2.375,-0.334 -4.2708,-1.2713 -5.6875,-2.813 -1.375,-1.5833 -2.3542,-3.5833 -2.9375,-6 -0.5417,-2.4583 -0.7083,-5.25 -0.5,-8.375 0.2083,-3.125 0.7292,-6.4167 1.5625,-9.875 0.8333,-3.4583 1.9375,-6.9792 3.3125,-10.5625 1.375,-3.5833 2.9583,-7.0417 4.75,-10.375 1.7917,-3.375 3.75,-6.5208 5.875,-9.4375 2.1255,-2.9167 4.3335,-5.4583 6.6255,-7.625 2.333,-2.1667 4.729,-3.8333 7.187,-5 2.458,-1.2083 4.896,-1.7292 7.313,-1.5625 2.583,0.1667 4.916,0.8542 7,2.0625 2.083,1.1667 3.937,2.6875 5.562,4.5625 1.667,1.875 3.125,4 4.375,6.375 1.25,2.3333 2.333,4.75 3.25,7.25 0.958,2.5 1.75,4.9792 2.375,7.4375 0.667,2.4167 1.229,4.625 1.688,6.625 0.916,4.125 1.666,8.2708 2.25,12.4375 0.583,4.125 1.041,8.2917 1.375,12.5 1.875,-1.3333 3.75,-2.625 5.625,-3.875 1.875,-1.25 3.812,-2.4792 5.812,-3.6875 z m -30.312,95.125 c 4.916,-12.25 8.541,-24.833 10.875,-37.75 2.375,-12.917 3.395,-25.979 3.062,-39.1875 -9.417,7.6665 -17.854,16.2505 -25.312,25.7505 -7.459,9.458 -13.771,19.729 -18.938,30.812 -1.125,2.417 -2.2917,5.062 -3.5,7.938 -1.1667,2.874 -2.25,5.874 -3.25,9 -0.9583,3.083 -1.7917,6.25 -2.5,9.5 -0.7083,3.25 -1.1458,6.458 -1.3125,9.624 -0.125,3.167 0.0625,6.25 0.5625,9.25 0.5417,3 1.5208,5.792 2.9375,8.376 1.5,2.791 3.125,4.562 4.875,5.312 1.7917,0.792 3.625,0.833 5.5005,0.125 1.916,-0.667 3.833,-1.937 5.75,-3.813 1.958,-1.874 3.854,-4.062 5.687,-6.562 1.875,-2.5 3.646,-5.167 5.313,-8 1.666,-2.875 3.187,-5.625 4.562,-8.25 1.375,-2.625 2.542,-5.021 3.5,-7.188 1,-2.166 1.729,-3.812 2.188,-4.937 z"
                      id="path1"
                    />
                  </mask>
                  <path
                    d="m 27.64836,155.3221 c 1.75,-7.834 3.375,-15.626 4.875,-23.376 1.5417,-7.75 3.1042,-15.562 4.6875,-23.437 3.2917,-16.458297 6.5833,-32.833297 9.875,-49.124997 3.2917,-16.3333 6.6042,-32.7292 9.9375,-49.1875 0.1667,-0.7499995 0.5417,-1.2708325 1.125,-1.5624995 0.5833,-0.333333 1.1875,-0.4583333 1.8125,-0.375 0.625,0.083333 1.1875,0.354167 1.6875,0.8125 0.5,0.45833 0.75,1.0624995 0.75,1.8124995 -0.1667,9.375 -0.2917,18.75 -0.375,28.125 -0.0833,9.3333 -0.0417,18.6875 0.125,28.0625 0.1667,9.3333 0.5,18.6667 1,28 0.5417,9.291697 1.375,18.583497 2.5,27.874497 5.1667,-16.9995 10.4375,-33.957797 15.8125,-50.874497 5.375,-16.9583 10.875,-33.875 16.5,-50.75 0.25,-0.7083 0.6667,-1.2083 1.25,-1.5 0.625,-0.3333 1.25,-0.4583 1.875,-0.375 0.625,0.0417 1.1667,0.2917 1.625,0.75 0.4583,0.4167 0.6667,1.0417 0.625,1.875 -0.4583,8.4167 -1.125,16.8333 -2,25.25 -0.8333,8.4167 -1.7292,16.8333 -2.6875,25.25 -0.9167,8.375 -1.8125,16.7708 -2.6875,25.1875 -0.8333,8.416697 -1.4375,16.853997 -1.8125,25.312997 -0.375,8.75 -0.4167,17.458 -0.125,26.124 0.2917,8.667 1.1667,17.334 2.625,26 0.6667,3.834 1.4375,7.646 2.3125,11.438 0.875,3.792 1.9375,7.521 3.1875,11.188 0.7083,2.124 1.5,4.25 2.375,6.374 0.9167,2.126 2.1458,4.042 3.6875,5.75 0.5833,0.667 1.417,1.292 2.5,1.876 1.083,0.583 2.271,1.062 3.563,1.437 1.291,0.375 2.583,0.583 3.874,0.625 1.292,0.042 2.438,-0.167 3.438,-0.625 1,-0.458 1.75,-1.208 2.25,-2.25 0.5,-1.042 0.604,-2.458 0.312,-4.25 -0.124,-0.875 0.042,-1.604 0.5,-2.187 0.5,-0.584 1.084,-0.959 1.75,-1.126 0.667,-0.208 1.313,-0.166 1.938,0.126 0.625,0.291 1,0.874 1.125,1.75 0.375,2.124 0.271,4.041 -0.313,5.75 -0.583,1.708 -1.479,3.166 -2.687,4.374 -1.208,1.209 -2.646,2.146 -4.313,2.813 -1.624,0.667 -3.354,1.021 -5.187,1.063 -1.792,0.083 -3.604,-0.146 -5.437,-0.688 -1.792,-0.542 -3.4172,-1.417 -4.8755,-2.625 -2.125,-1.75 -3.9792,-3.854 -5.5625,-6.313 -1.5833,-2.416 -2.9583,-5.041 -4.125,-7.874 -1.125,-2.876 -2.0833,-5.876 -2.875,-9 -0.75,-3.126 -1.3958,-6.23 -1.9375,-9.313 -0.5417,-3.125 -1,-6.167 -1.375,-9.125 -0.3333,-2.958 -0.6458,-5.708 -0.9375,-8.25 -1.1667,-10.167 -1.6875,-20.312 -1.5625,-30.438 0.125,-10.166 0.6042,-20.312 1.4375,-30.437 0.875,-10.166697 1.9167,-20.312497 3.125,-30.437497 1.2083,-10.1667 2.3125,-20.3125 3.3125,-30.4375 -5.0417,15.2917 -9.9792,30.625 -14.8125,46 -4.7917,15.333297 -9.5,30.728997 -14.125,46.187997 -0.1667,0.583 -0.5208,1.041 -1.0625,1.374 -0.5,0.334 -1.0625,0.521 -1.6875,0.563 -0.5833,0.042 -1.125,-0.083 -1.625,-0.375 -0.4583,-0.333 -0.75,-0.854 -0.875,-1.562 -1.1667,-8 -2.125,-16 -2.875,-24 -0.75,-8.0422 -1.3333,-16.083797 -1.75,-24.125497 -0.375,-8.0417 -0.625,-16.0833 -0.75,-24.125 -0.0833,-8.0417 -0.1042,-16.0833 -0.0625,-24.125 -3.0833,15.2917 -6.1458,30.5 -9.1875,45.625 -3.0417,15.083297 -6.1042,30.270497 -9.1875,45.562497 -1.9167,9.667 -3.9167,19.25 -6,28.75 -2.0417,9.458 -4.5,18.896 -7.375,28.312 -0.2083,0.667 -0.5208,1.771 -0.9375,3.313 -0.375,1.5 -0.875,3.146 -1.5,4.937 -0.5833,1.792 -1.2917,3.563 -2.125,5.313 -0.7917,1.75 -1.6875,3.187 -2.6875,4.313 -1,1.124 -2.10417,1.791 -3.3125,2 -1.20833,0.166 -2.52083,-0.417 -3.9375,-1.75 -0.6249996,-0.584 -0.8958329,-1.23 -0.8124996,-1.938 0.083333,-0.708 0.354167,-1.292 0.8124996,-1.75 0.5,-0.5 1.10417,-0.792 1.8125,-0.875 0.75,-0.125 1.4375,0.104 2.0625,0.687 -0.16667,-0.166 -0.10417,-0.791 0.1875,-1.874 0.29167,-1.084 0.6875,-2.417 1.1875,-4 0.54167,-1.584 1.14583,-3.313 1.8125,-5.188 0.66667,-1.917 1.3125,-3.729 1.9375,-5.438 0.625,-1.75 1.1875,-3.291 1.6875,-4.624 0.5,-1.334 0.8125,-2.271 0.9375,-2.813 1.0833,-3.917 2.0833,-7.813 3,-11.687 0.9583,-3.876 1.875,-7.792 2.75,-11.75 z m 140.5825,-66.187997 c 0.75,-0.4583 1.458,-0.5417 2.125,-0.25 0.667,0.25 1.167,0.6667 1.5,1.25 0.333,0.5833 0.458,1.25 0.375,2 -0.083,0.7083 -0.5,1.2917 -1.25,1.75 -4.708,2.8333 -9.312,5.9375 -13.812,9.312497 0.208,4.4167 0.25,8.8125 0.125,13.1875 -0.084,4.375 -0.334,8.75 -0.75,13.125 -0.834,9.167 -2.271,18.187 -4.313,27.063 -2,8.874 -4.625,17.604 -7.875,26.187 -1.417,3.708 -2.958,7.583 -4.625,11.625 -1.625,4 -3.479,7.896 -5.562,11.688 -2.084,3.791 -4.459,7.333 -7.125,10.624 -2.667,3.334 -5.709,6.146 -9.125,8.438 -2.667,1.833 -5.25,2.917 -7.75,3.25 -2.5005,0.333 -4.813,0.042 -6.938,-0.875 -2.0833,-0.917 -3.9375,-2.417 -5.5625,-4.5 -1.625,-2.042 -2.875,-4.563 -3.75,-7.563 -1.25,-4.124 -1.8958,-8.354 -1.9375,-12.687 0,-4.375 0.3958,-8.708 1.1875,-13 0.8333,-4.333 1.9583,-8.583 3.375,-12.75 1.4167,-4.208 2.9375,-8.208 4.5625,-12 5.5833,-12.792 12.646,-24.604 21.188,-35.437 8.541,-10.834 18.291,-20.5 29.25,-29.0005 -0.292,-5.958297 -0.917,-11.916697 -1.875,-17.874997 -0.292,-1.9583 -0.73,-4.2292 -1.313,-6.8125 -0.583,-2.625 -1.292,-5.3333 -2.125,-8.125 -0.833,-2.7917 -1.812,-5.5625 -2.937,-8.3125 -1.125,-2.75 -2.396,-5.25 -3.813,-7.5 -1.375,-2.25 -2.917,-4.125 -4.625,-5.625 -1.708,-1.5417 -3.562,-2.4792 -5.562,-2.8125 -1.959,-0.3333 -4.084,0.0625 -6.375,1.1875 -2.292,1.0833 -4.75,3.1042 -7.375,6.0625 -3.167,3.5833 -5.917,7.5208 -8.2505,11.8125 -2.2917,4.25 -4.1458,8.6458 -5.5625,13.1875 -0.25,0.7917 -0.6042,2 -1.0625,3.625 -0.4583,1.625 -0.9167,3.4583 -1.375,5.5 -0.4167,2 -0.75,4.0625 -1,6.1875 -0.25,2.125 -0.2917,4.1042 -0.125,5.9375 0.1667,1.7917 0.6042,3.312497 1.3125,4.562497 0.7083,1.25 1.8333,1.9792 3.375,2.1875 0.875,0.125 1.4583,0.5 1.75,1.125 0.2917,0.5833 0.3333,1.2083 0.125,1.875 -0.1667,0.6667 -0.5417,1.25 -1.125,1.75 -0.5833,0.5 -1.3125,0.687 -2.1875,0.563 -2.375,-0.334 -4.2708,-1.2713 -5.6875,-2.813 -1.375,-1.5833 -2.3542,-3.5833 -2.9375,-6 -0.5417,-2.458297 -0.7083,-5.249997 -0.5,-8.374997 0.2083,-3.125 0.7292,-6.4167 1.5625,-9.875 0.8333,-3.4583 1.9375,-6.9792 3.3125,-10.5625 1.375,-3.5833 2.9583,-7.0417 4.75,-10.375 1.7917,-3.375 3.75,-6.5208 5.875,-9.4375 2.1255,-2.9167 4.3335,-5.4583 6.6255,-7.625 2.333,-2.1667 4.729,-3.8333 7.187,-5 2.458,-1.2083 4.896,-1.7292 7.313,-1.5625 2.583,0.1667 4.916,0.8542 7,2.0625 2.083,1.1667 3.937,2.6875 5.562,4.5625 1.667,1.875 3.125,4 4.375,6.375 1.25,2.3333 2.333,4.75 3.25,7.25 0.958,2.5 1.75,4.9792 2.375,7.4375 0.667,2.4167 1.229,4.625 1.688,6.625 0.916,4.125 1.666,8.2708 2.25,12.4375 0.583,4.125 1.041,8.2917 1.375,12.5 1.875,-1.3333 3.75,-2.625 5.625,-3.875 1.875,-1.25 3.812,-2.4792 5.812,-3.6875 z m -30.312,95.124997 c 4.916,-12.25 8.541,-24.833 10.875,-37.75 2.375,-12.917 3.395,-25.979 3.062,-39.1875 -9.417,7.6665 -17.854,16.2505 -25.312,25.7505 -7.459,9.458 -13.771,19.729 -18.938,30.812 -1.125,2.417 -2.2917,5.062 -3.5,7.938 -1.1667,2.874 -2.25,5.874 -3.25,9 -0.9583,3.083 -1.7917,6.25 -2.5,9.5 -0.7083,3.25 -1.1458,6.458 -1.3125,9.624 -0.125,3.167 0.0625,6.25 0.5625,9.25 0.5417,3 1.5208,5.792 2.9375,8.376 1.5,2.791 3.125,4.562 4.875,5.312 1.7917,0.792 3.625,0.833 5.5005,0.125 1.916,-0.667 3.833,-1.937 5.75,-3.813 1.958,-1.874 3.854,-4.062 5.687,-6.562 1.875,-2.5 3.646,-5.167 5.313,-8 1.666,-2.875 3.187,-5.625 4.562,-8.25 1.375,-2.625 2.542,-5.021 3.5,-7.188 1,-2.166 1.729,-3.812 2.188,-4.937 z"
                    fill="#838383"
                    id="path2"
                    style={{ fill: "#848484", fillOpacity: 1 }}
                  />
                  <path
                    id="path4"
                    style={{ fill: "#100f0f" }}
                    d="M 50.63961,0.00349047 C 43.841162,2.2703963 46.844792,12.79203 44.100673,18.177105 34.619526,63.82725 26.164368,109.69416 16.162604,155.23226 13.760946,168.5561 8.2869915,180.94692 4.4186269,193.83831 c -8.6654195,-0.64428 -2.9517034,11.9709 3.2203183,7.45233 7.5507258,-6.73589 8.0059758,-17.86618 11.3516938,-26.86786 9.469466,-35.93034 15.479109,-72.659 23.188685,-108.988798 1.499429,-7.450753 2.999778,-14.90132 4.501184,-22.351675 0.08693,29.281019 0.991572,58.782183 5.897425,87.668353 6.928096,5.58056 8.444823,-6.87815 9.816102,-11.26492 7.38866,-24.501479 15.037977,-48.924151 23.001355,-73.245081 -4.729026,41.994557 -10.766878,84.607471 -3.631846,126.712291 2.461008,7.4953 0.655119,14.92798 0.393612,22.58506 0.14037,10.32672 3.424326,24.59139 15.453113,26.63858 12.962901,0.52511 21.719541,-11.49219 27.806511,-21.4245 16.78239,-31.89775 25.44321,-68.22722 23.95187,-104.30236 4.06056,-3.911754 22.41683,-10.88146 10.99441,-15.942353 -5.85864,1.908217 -13.58382,12.136502 -12.24844,0.353012 -2.43433,-15.997904 -4.77286,-33.599058 -16.0246,-46.079244 -6.31204,-6.901207 -17.53615,-7.239781 -24.44937,-1.024972 C 100.95992,38.954441 96.13038,46.142495 92.135305,53.511907 93.372334,40.186465 95.286026,26.828266 95.34234,13.452041 89.341439,6.2628269 85.886874,18.773246 85.036337,23.272686 75.438563,52.349535 66.212704,81.548573 57.26613,110.83209 53.400885,75.248917 54.028374,39.381295 54.574724,3.6519279 54.676108,1.5503384 52.62455,-0.08583713 50.63961,0.00349047 Z m 0.07227,2.00000003 c 4.800388,6.2720371 -0.01356,18.0844235 1.521489,26.2491665 -0.216778,29.220331 0.04956,58.539366 3.599604,87.582893 6.007683,-3.55948 5.571285,-16.682072 9.281691,-23.703221 8.073511,-25.988368 16.359118,-51.911642 24.972256,-77.72646 6.150102,-4.340064 2.276574,8.554293 2.707881,11.406564 -1.199345,11.370084 -1.59138,23.024491 -3.799626,34.180176 -2.310509,3.8278 -5.845406,19.665967 -3.990287,7.714042 -0.01594,-9.74766 4.943834,-23.235494 1.691773,-30.799601 -3.539465,8.302653 -6.094216,18.262299 -9.193353,27.221598 -6.93096,21.569899 -13.574708,43.235032 -20.076729,64.935412 -6.571853,2.95762 -3.560418,-13.36924 -5.568013,-17.83292 -2.827637,-25.982359 -3.351439,-52.146069 -3.158409,-78.260894 -5.426273,2.568007 -3.567696,15.026 -6.302647,21.245898 -7.991876,38.112978 -14.655293,76.525146 -23.878571,114.366436 -3.43603,9.91077 -4.454187,21.07034 -10.5669116,29.84417 -6.2662428,4.52295 -7.57787737,-3.30832 -1.919926,-3.66821 1.6551348,-4.53962 4.0591326,-12.27283 6.2475336,-17.91959 C 20.314093,151.78591 24.201927,125.62 29.676846,99.929948 36.255288,67.487437 42.578325,34.959364 49.421922,2.5912858 49.726184,2.1911271 50.269737,2.1175624 50.71188,2.0034905 Z m 69.31444,29.2089845 c 12.50582,1.18306 17.98746,14.639451 21.17084,25.117291 3.32751,11.37758 5.05316,23.163254 5.91613,34.970794 4.41745,-1.279679 12.30012,-12.825636 15.30089,-6.509823 -7.25554,5.847734 -19.15888,9.237582 -14.88129,21.066223 -0.35036,33.44328 -8.97478,66.93483 -25.22327,96.17462 -0.4913,0.95693 -2.30442,-8.81662 1.15656,-10.85078 14.97185,-28.47776 21.49742,-61.09637 20.51621,-93.153424 -24.99996,19.848674 -44.280924,47.120254 -53.632794,77.711484 -3.299897,-8.28007 2.624858,-15.94908 5.562264,-23.45383 11.03525,-22.90968 27.71191,-42.97644 47.83431,-58.474038 -1.18712,-18.220192 -3.73239,-37.560259 -14.50278,-52.823941 -5.24072,-8.476133 -16.9925,-6.507128 -22.27495,0.791299 -9.196236,9.749931 -14.599839,22.444777 -17.418255,35.413464 1.340522,-8.599303 0.367911,-17.98002 5.786098,-25.342087 5.537517,-8.889251 13.020247,-20.363476 24.690037,-20.637252 z m -1.03906,5.951172 c 10.17016,1.368307 13.6544,13.409131 16.81814,21.582629 3.59475,11.020622 5.25016,22.579086 5.89135,34.124433 -23.86302,18.593791 -42.858078,43.643661 -53.341832,72.089971 -3.268901,-21.25113 -2.660017,-42.88146 -1.109375,-64.25587 5.379945,7.03108 15.255237,-4.134572 5.33204,-5.719198 -5.054547,-7.23163 -0.883934,-16.851752 0.836662,-24.677475 3.85831,-12.16505 10.022985,-24.912302 21.122895,-31.945257 1.38682,-0.679679 2.88914,-1.172662 4.45012,-1.199233 z M 88.748985,65.989819 c -1.035201,9.715978 -2.14806,19.424708 -3.048828,29.154336 -3.179942,-9.505246 -0.0047,-20.021054 3.048828,-29.154336 z m -0.457031,23.109375 c -1.505937,5.897637 5.343152,6.781209 6.646481,10.185614 -7.360573,5.751322 -8.704561,-4.979738 -6.646481,-10.185614 z m -5.730469,1.492187 c 3.669753,9.166006 2.110489,18.657969 1.638312,28.493899 -0.514696,16.62843 -0.164177,33.37399 2.769932,49.78957 -3.393636,3.97863 -2.827784,11.4366 -3.404947,2.63454 -4.205003,-26.80604 -3.688248,-53.98938 -1.003297,-80.918009 z M 142.0732,102.17536 c 0.28751,32.2095 -6.97058,64.90607 -23.08032,92.95959 -7.82744,-0.86894 -1.61933,11.68963 -9.63489,10.52016 -10.093907,0.31945 -13.680118,-10.0111 -15.921654,-17.9366 -4.089354,-7.61447 0.08616,-15.43607 2.773193,-22.7515 9.822261,-24.31196 25.695031,-46.02724 45.863671,-62.79165 z m -54.08995,67.21236 c 2.475601,4.44352 0.228021,18.24855 -0.852008,19.21171 -2.076666,-0.61282 -4.694127,-11.95789 0.852008,-19.21171 z m 2.336048,14.82084 c 2.829674,9.10155 5.322365,21.9715 16.908462,23.24361 8.03898,1.32442 -6.09518,6.21291 -8.767876,0.55372 -6.824117,-5.93549 -11.657937,-14.68425 -8.140586,-23.79733 z m -5.669922,2.98242 c 3.644166,7.88485 1.740519,17.24337 6.780744,24.66097 4.494957,9.94655 13.17305,2.75173 19.58716,0.91802 9.91217,-4.40361 -5.4361,7.9 -9.80538,7.39188 -11.007687,1.48042 -16.078853,-10.8884 -16.758991,-19.9141 -0.520381,-4.33745 -0.288071,-8.72964 0.196467,-13.05677 z m 33.162104,9.9961 c -1.13451,3.79536 -2.74566,1.55987 0,0 z m 1.80664,0.87304 c 1.59345,6.07167 -3.37461,11.98795 -9.2891,12.80668 3.73169,-3.89095 6.60918,-8.14001 9.2891,-12.80668 z m -30.138666,1.6875 c 3.281673,6.10642 8.33327,12.39885 15.695406,13.20737 -7.632951,7.01227 -15.057646,-3.8525 -15.406253,-11.15843 l -0.002,-0.01 -0.287109,-2.03907 z"
                  />
                </svg>
              </div>
            </a>
          </div>

          {/* 2. Center: Name */}
          <div className="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-0">
            <div className="text-4xl md:text-5xl text-foreground font-handwriting whitespace-nowrap">
              Meghraj Jare
            </div>
          </div>

          {/* 3. Right: Menu Toggle */}
          <div className="flex-1 flex justify-end z-10 relative">
            <button
              type="button"
              className="p-2 text-neutral-500 hover:text-black dark:hover:text-white transition-colors duration-300 focus:outline-none"
              aria-label={isMenuOpen ? "Close menu" : "Open menu"}
              aria-expanded={isMenuOpen}
              aria-controls="fullscreen-menu"
              onClick={() => setIsMenuOpen(!isMenuOpen)}
            >
              <MenuToggleIcon
                open={isMenuOpen}
                className="w-8 h-8 md:w-12 md:h-12"
                strokeWidth={2}
              />
            </button>
          </div>
        </nav>
      </header>

      {/* Full-Screen Overlay Menu - Always mounted, visibility controlled by GSAP */}
      <div
        ref={menuContainerRef}
        id="fullscreen-menu"
        role="dialog"
        aria-modal="true"
        aria-label="Navigation menu"
        className="fixed inset-0 z-60 bg-[#eceae8] dark:bg-[#101010] invisible opacity-0" // Default CSS hidden state
        onClick={(e) => {
          // Close menu when clicking backdrop (not menu content)
          if (e.target === e.currentTarget) {
            setIsMenuOpen(false);
          }
        }}
      >
        {/* Overlay Container Content */}
        <div className="menu-content relative w-full h-full flex flex-col">
          {/* Top Bar: Theme Toggle + Close Button */}
          <div className="absolute top-0 left-0 right-0 z-10 px-6 py-6 md:px-12 lg:px-24">
            <div className="flex items-center justify-between max-w-screen-2xl mx-auto">
              <div className="md:flex-1" />

              <div className="flex items-center gap-4">
                <VerticalThemeWipeToggle
                  className="text-foreground hover:text-[#C3E41D] transition-colors duration-300"
                  direction="top"
                />

                <button
                  type="button"
                  className="p-2 text-neutral-500 hover:text-foreground transition-colors duration-300 focus:outline-none"
                  aria-label="Close menu"
                  onClick={() => setIsMenuOpen(false)}
                >
                  <MenuToggleIcon
                    open={true}
                    className="w-8 h-8 md:w-10 md:h-10"
                    strokeWidth={2}
                  />
                </button>
              </div>
            </div>
          </div>

          {/* Main Navigation Content - Centered */}
          <div className="flex-1 flex items-center justify-center px-6 py-20 md:py-24">
            <div className="w-full max-w-4xl">
              <Skiper58 className="bg-transparent backdrop-blur-none" />
            </div>
          </div>

          {/* Bottom Meta Section */}
          <div className="absolute bottom-0 left-0 right-0 px-6 py-6 md:px-12 lg:px-24">
            <div className="flex items-center justify-between max-w-screen-2xl mx-auto text-xs md:text-sm text-neutral-500 tracking-wider uppercase">
              <div className="hidden md:block">
                <span className="text-[#C3E41D] font-bold">
                  AVAILABLE FOR WORK
                </span>
              </div>

              <div className="flex items-center gap-6 md:gap-8">
                {/* Navigation Links */}
                {["GITHUB", "LINKEDIN", "TWITTER"].map((item) => (
                  <a
                    key={item}
                    href="#"
                    className="hover:text-foreground transition-colors duration-300"
                    onClick={(e) => {
                      e.preventDefault();
                      setIsMenuOpen(false);
                    }}
                  >
                    {item}
                  </a>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}
